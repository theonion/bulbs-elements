{"version":3,"sources":["webpack:///bulbs-poll.js","webpack:///./elements/bulbs-poll/bulbs-poll.js","webpack:///./elements/bulbs-poll/bulbs-poll-schema.js","webpack:///./elements/bulbs-poll/fields/poll.js","webpack:///./elements/bulbs-poll/fields/selected-answer.js","webpack:///./elements/bulbs-poll/fields/winning-answers.js","webpack:///./elements/bulbs-poll/fields/vote.js","webpack:///./elements/bulbs-poll/fields/src.js","webpack:///./elements/bulbs-poll/fields/now.js","webpack:///./elements/bulbs-poll/components/root.js","webpack:///./elements/bulbs-poll/components/loading.js","webpack:///./elements/bulbs-poll/components/question.js","webpack:///./elements/bulbs-poll/components/cover.js","webpack:///./elements/bulbs-poll/components/answers.js","webpack:///./elements/bulbs-poll/components/answer.js","webpack:///./elements/bulbs-poll/components/selection-marker.js","webpack:///./elements/bulbs-poll/components/image-answer.js","webpack:///./elements/bulbs-poll/components/vote-button.js","webpack:///./elements/bulbs-poll/components/request-error.js","webpack:///./elements/bulbs-poll/components/results.js","webpack:///./elements/bulbs-poll/components/results-list.js","webpack:///./elements/bulbs-poll/components/result.js","webpack:///./elements/bulbs-poll/components/image-result.js","webpack:///./elements/bulbs-poll/components/ended.js","webpack:///./elements/bulbs-poll/components/coming-soon.js"],"names":["webpackJsonp","0","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","_defaults","defaults","keys","Object","getOwnPropertyNames","i","length","key","value","getOwnPropertyDescriptor","configurable","undefined","defineProperty","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","create","constructor","enumerable","writable","setPrototypeOf","_react","_react2","_register","_bulbsElement","_bulbsElement2","_bulbsPollSchema","_bulbsPollSchema2","_root","_root2","BulbsPoll","_BulbsElement","this","apply","arguments","initialDispatch","store","actions","setSrc","props","src","fetchPollData","getCachedVoteData","render","createElement","data-track-action","data","state","displayName","schema","propTypes","PropTypes","string","isRequired","registerReactElement","276","_poll","_poll2","_selectedAnswer","_selectedAnswer2","_winningAnswers","_winningAnswers2","_vote","_vote2","_src","_src2","_now","_now2","PollSchema","poll","selectedAnswer","winningAnswers","vote","now","277","setImmediate","_toConsumableArray","arr","Array","isArray","arr2","from","parsePoll","published","Date","end_date","_util","_util2","PollField","initialState","answers","requestInFlight","setPollTotalVotes","count","total_votes","updateAnswerVoteCount","answer","find","eachAnswer","sodahead_id","id","answerIndex","forEach","dataAnswer","index","totalVotes","concat","slice","makeRequest","credentials","success","fetchPollDataSuccess","failure","fetchPollDataFailure","error","fetchPollDataError","collectWinningAnswers","requestFailure","requestError","resetFetchPollData","_null","278","SelectedAnswerField","selectAnswer","279","WinningAnswersField","highScore","push","280","cacheKey","pollId","VoteField","voted","pollKey","localStorage","getItem","JSON","parse","makeVoteRequest","url","method","headers","Accept","Content-Type","body","voteRequestSuccess","voteRequestFailure","voteRequestError","setItem","stringify","resetVoteRequest","281","SrcField","282","NowField","283","Root","pollData","pollNotLoaded","pollIsPublished","pollHasEnded","viewerHasVoted","_loading2","_ended2","_results2","_question2","_comingSoon2","_loading","_question","_results","_ended","_comingSoon","object","284","Loading","className","285","Question","_props$actions","_props$data","_cover2","_requestError2","reset","_answers2","_voteButton2","_cover","_answers","_voteButton","_requestError","286","Cover","question_text","287","Answers","AnswerType","listClassName","answer_type","classNames","_classnames2","bulbs-poll-answers-selected","map","_extends","assign","target","source","hasOwnProperty","_answer","_answer2","_imageAnswer","_imageAnswer2","_classnames","array","func","288","_selectionMarker","_selectionMarker2","Answer","_React$Component","_props","isSelected","bulbs-poll-answer-selected","data-track-label","onClick","bind","answer_text","Component","290","SelectionMarker","width","height","cx","cy","r","fill","stroke","strokeWidth","bool","291","ImageAnswer","answer_image_url","292","VoteButton","buttonIsDisabled","classes","bulbs-poll-footer","disabled","293","RequestError","_ref","children","node","294","Results","_resultsList2","_resultsList","295","ResultsList","ResultType","_result","_result2","_imageResult","_imageResult2","296","Result","isWinningAnswer","winningAnswer","isVoteAnswer","bulbs-poll-result-winning","bulbs-poll-result-selected","percent","percentResult","toFixed","style","297","ImageResult","298","Ended","299","ComingSoon","300"],"mappings":"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","file":"bulbs-poll.js","sourcesContent":["webpackJsonp([19],{\n\n/***/ 0:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _react = __webpack_require__(187);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _register = __webpack_require__(1);\n\t\n\tvar _bulbsElement = __webpack_require__(273);\n\t\n\tvar _bulbsElement2 = _interopRequireDefault(_bulbsElement);\n\t\n\tvar _bulbsPollSchema = __webpack_require__(276);\n\t\n\tvar _bulbsPollSchema2 = _interopRequireDefault(_bulbsPollSchema);\n\t\n\tvar _root = __webpack_require__(283);\n\t\n\tvar _root2 = _interopRequireDefault(_root);\n\t\n\t__webpack_require__(300);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _defaults(obj, defaults) { var keys = Object.getOwnPropertyNames(defaults); for (var i = 0; i < keys.length; i++) { var key = keys[i]; var value = Object.getOwnPropertyDescriptor(defaults, key); if (value && value.configurable && obj[key] === undefined) { Object.defineProperty(obj, key, value); } } return obj; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : _defaults(subClass, superClass); }\n\t\n\tvar BulbsPoll = function (_BulbsElement) {\n\t  _inherits(BulbsPoll, _BulbsElement);\n\t\n\t  function BulbsPoll() {\n\t    _classCallCheck(this, BulbsPoll);\n\t\n\t    return _possibleConstructorReturn(this, _BulbsElement.apply(this, arguments));\n\t  }\n\t\n\t  BulbsPoll.prototype.initialDispatch = function initialDispatch() {\n\t    this.store.actions.setSrc(this.props.src);\n\t    this.store.actions.fetchPollData(this.props.src);\n\t    this.store.actions.getCachedVoteData(this.props.src);\n\t  };\n\t\n\t  BulbsPoll.prototype.render = function render() {\n\t    return _react2.default.createElement(\n\t      'div',\n\t      { 'data-track-action': 'Poll' },\n\t      _react2.default.createElement(_root2.default, {\n\t        data: this.state,\n\t        actions: this.store.actions\n\t      })\n\t    );\n\t  };\n\t\n\t  return BulbsPoll;\n\t}(_bulbsElement2.default);\n\t\n\texports.default = BulbsPoll;\n\t\n\t\n\tBulbsPoll.displayName = 'BulbsPoll';\n\t\n\tBulbsPoll.schema = _bulbsPollSchema2.default;\n\t\n\tBulbsPoll.propTypes = {\n\t  src: _react.PropTypes.string.isRequired\n\t};\n\t\n\t(0, _register.registerReactElement)('bulbs-poll', BulbsPoll);\n\n/***/ }),\n\n/***/ 276:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _poll = __webpack_require__(277);\n\t\n\tvar _poll2 = _interopRequireDefault(_poll);\n\t\n\tvar _selectedAnswer = __webpack_require__(278);\n\t\n\tvar _selectedAnswer2 = _interopRequireDefault(_selectedAnswer);\n\t\n\tvar _winningAnswers = __webpack_require__(279);\n\t\n\tvar _winningAnswers2 = _interopRequireDefault(_winningAnswers);\n\t\n\tvar _vote = __webpack_require__(280);\n\t\n\tvar _vote2 = _interopRequireDefault(_vote);\n\t\n\tvar _src = __webpack_require__(281);\n\t\n\tvar _src2 = _interopRequireDefault(_src);\n\t\n\tvar _now = __webpack_require__(282);\n\t\n\tvar _now2 = _interopRequireDefault(_now);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar PollSchema = {\n\t  poll: _poll2.default,\n\t  selectedAnswer: _selectedAnswer2.default,\n\t  winningAnswers: _winningAnswers2.default,\n\t  vote: _vote2.default,\n\t  src: _src2.default,\n\t  now: _now2.default\n\t};\n\t\n\texports.default = PollSchema;\n\n/***/ }),\n\n/***/ 277:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(setImmediate) {'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _util = __webpack_require__(189);\n\t\n\tvar _util2 = _interopRequireDefault(_util);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\t\n\tfunction parsePoll(poll) {\n\t  if (poll.published) {\n\t    poll.published = new Date(poll.published);\n\t  }\n\t\n\t  if (poll.end_date) {\n\t    poll.end_date = new Date(poll.end_date);\n\t  }\n\t\n\t  return poll;\n\t}\n\t\n\tvar PollField = {\n\t  initialState: {\n\t    data: {\n\t      answers: []\n\t    },\n\t    requestInFlight: false\n\t  },\n\t  actions: {\n\t    setPollTotalVotes: function setPollTotalVotes(state, count) {\n\t      state.data.total_votes = count;\n\t      return state;\n\t    },\n\t    updateAnswerVoteCount: function updateAnswerVoteCount(state, vote) {\n\t      var answer = state.data.answers.find(function (eachAnswer) {\n\t        return eachAnswer.sodahead_id === vote.answer.id;\n\t      });\n\t\n\t      var answerIndex = void 0;\n\t      state.data.answers.forEach(function (dataAnswer, index) {\n\t        if (dataAnswer.id === answer.id) {\n\t          answerIndex = index;\n\t        }\n\t      });\n\t      answer.total_votes = vote.answer.totalVotes;\n\t      state.data.answers = [].concat(_toConsumableArray(state.data.answers.slice(0, answerIndex)), [answer], _toConsumableArray(state.data.answers.slice(answerIndex + 1)));\n\t\n\t      return state;\n\t    },\n\t    fetchPollData: function fetchPollData(state, src, store) {\n\t      src || (src = store.src);\n\t      store.src = src;\n\t      _util2.default.makeRequest(src, {\n\t        credentials: 'include',\n\t        success: store.actions.fetchPollDataSuccess,\n\t        failure: store.actions.fetchPollDataFailure,\n\t        error: store.actions.fetchPollDataError\n\t      });\n\t      state.requestInFlight = true;\n\t      return state;\n\t    },\n\t    fetchPollDataSuccess: function fetchPollDataSuccess(state, data, store) {\n\t      state.data = parsePoll(data);\n\t      state.requestInFlight = false;\n\t\n\t      setImmediate(function () {\n\t        store.actions.collectWinningAnswers(store.state.poll.data.answers);\n\t      });\n\t\n\t      return state;\n\t    },\n\t    fetchPollDataFailure: function fetchPollDataFailure(state, failure) {\n\t      state.requestFailure = failure;\n\t      state.requestInFlight = false;\n\t      return state;\n\t    },\n\t    fetchPollDataError: function fetchPollDataError(state, error) {\n\t      state.requestError = error;\n\t      state.requestInFlight = false;\n\t      return state;\n\t    },\n\t    resetFetchPollData: function resetFetchPollData(state, _null, store) {\n\t      state.requestInFlight = false;\n\t      delete state.requestFailure;\n\t      delete state.requestError;\n\t      setImmediate(store.actions.fetchPollData);\n\t      return state;\n\t    }\n\t  }\n\t};\n\t\n\texports.default = PollField;\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2).setImmediate))\n\n/***/ }),\n\n/***/ 278:\n/***/ (function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\tvar SelectedAnswerField = {\n\t  initialState: {},\n\t  actions: {\n\t    selectAnswer: function selectAnswer(state, answer) {\n\t      return state && state.id === answer.id ? {} : answer;\n\t    }\n\t  }\n\t};\n\t\n\texports.default = SelectedAnswerField;\n\n/***/ }),\n\n/***/ 279:\n/***/ (function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\tvar WinningAnswersField = {\n\t  initialState: [],\n\t  actions: {\n\t    collectWinningAnswers: function collectWinningAnswers(state) {\n\t      var answers = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n\t\n\t      var highScore = 0;\n\t      var winningAnswers = [];\n\t\n\t      answers.forEach(function (eachAnswer) {\n\t        if (eachAnswer.total_votes === highScore) {\n\t          winningAnswers.push(eachAnswer);\n\t        } else if (eachAnswer.total_votes > highScore) {\n\t          highScore = eachAnswer.total_votes;\n\t          winningAnswers = [eachAnswer];\n\t        }\n\t      });\n\t\n\t      return winningAnswers;\n\t    }\n\t  }\n\t};\n\t\n\texports.default = WinningAnswersField;\n\n/***/ }),\n\n/***/ 280:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t/* WEBPACK VAR INJECTION */(function(setImmediate) {'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _util = __webpack_require__(189);\n\t\n\tvar _util2 = _interopRequireDefault(_util);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction cacheKey(pollId) {\n\t  return 'bulbs-poll:' + pollId + ':vote';\n\t}\n\t\n\tvar VoteField = {\n\t  initialState: {\n\t    voted: false\n\t  },\n\t  actions: {\n\t    getCachedVoteData: function getCachedVoteData(state, pollKey) {\n\t      var value = localStorage.getItem(cacheKey(pollKey));\n\t      if (value) {\n\t        state.voted = true;\n\t        state.data = JSON.parse(value);\n\t      }\n\t      return state;\n\t    },\n\t    makeVoteRequest: function makeVoteRequest(state, answer, store) {\n\t      var poll = store.state.poll;\n\t\n\t      var url = 'https://onion.sodahead.com/api/polls/' + poll.data.sodahead_id + '/vote/';\n\t      _util2.default.makeRequest(url, {\n\t        method: 'post',\n\t        headers: {\n\t          'Accept': 'application/json',\n\t          'Content-Type': 'application/json'\n\t        },\n\t        body: 'answer=' + answer.sodahead_id,\n\t        success: store.actions.voteRequestSuccess,\n\t        failure: store.actions.voteRequestFailure,\n\t        error: store.actions.voteRequestError\n\t      });\n\t\n\t      state.requestInFlight = true;\n\t      return state;\n\t    },\n\t    voteRequestSuccess: function voteRequestSuccess(state, data, store) {\n\t      localStorage.setItem(cacheKey(store.state.src), JSON.stringify(data.vote));\n\t      setImmediate(function () {\n\t        store.actions.setPollTotalVotes(data.poll.totalVotes);\n\t        store.actions.updateAnswerVoteCount(data.vote);\n\t        store.actions.collectWinningAnswers(store.state.poll.data.answers);\n\t      });\n\t      state.voted = true;\n\t      state.data = data.vote;\n\t      state.requestInFlight = false;\n\t      return state;\n\t    },\n\t    voteRequestFailure: function voteRequestFailure(state, failure) {\n\t      state.requestFailure = failure;\n\t      state.requestInFlight = false;\n\t      return state;\n\t    },\n\t    voteRequestError: function voteRequestError(state, error) {\n\t      state.requestInFlight = false;\n\t      state.requestError = error;\n\t      return state;\n\t    },\n\t    resetVoteRequest: function resetVoteRequest(state) {\n\t      state.requestInFlight = false;\n\t      delete state.requestFailure;\n\t      delete state.requestError;\n\t      return state;\n\t    }\n\t  }\n\t};\n\t\n\texports.default = VoteField;\n\t/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(2).setImmediate))\n\n/***/ }),\n\n/***/ 281:\n/***/ (function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\tvar SrcField = {\n\t  initialState: '',\n\t  actions: {\n\t    setSrc: function setSrc(state, src) {\n\t      return src;\n\t    }\n\t  }\n\t};\n\t\n\texports.default = SrcField;\n\n/***/ }),\n\n/***/ 282:\n/***/ (function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\tvar NowField = {\n\t  initialState: new Date()\n\t};\n\t\n\texports.default = NowField;\n\n/***/ }),\n\n/***/ 283:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = Root;\n\t\n\tvar _react = __webpack_require__(187);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _loading = __webpack_require__(284);\n\t\n\tvar _loading2 = _interopRequireDefault(_loading);\n\t\n\tvar _question = __webpack_require__(285);\n\t\n\tvar _question2 = _interopRequireDefault(_question);\n\t\n\tvar _results = __webpack_require__(294);\n\t\n\tvar _results2 = _interopRequireDefault(_results);\n\t\n\tvar _ended = __webpack_require__(298);\n\t\n\tvar _ended2 = _interopRequireDefault(_ended);\n\t\n\tvar _comingSoon = __webpack_require__(299);\n\t\n\tvar _comingSoon2 = _interopRequireDefault(_comingSoon);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction Root(props) {\n\t  var pollData = props.data.poll.data;\n\t  var now = props.data.now;\n\t  var pollNotLoaded = !pollData.id;\n\t  var pollIsPublished = pollData.published && pollData.published <= now;\n\t  var pollHasEnded = pollData.end_date && pollData.end_date <= now;\n\t  var viewerHasVoted = props.data.vote.voted;\n\t\n\t  if (pollNotLoaded) {\n\t    return _react2.default.createElement(_loading2.default, null);\n\t  } else if (!pollIsPublished) {\n\t    return _react2.default.createElement(_comingSoon2.default, null);\n\t  } else if (pollHasEnded) {\n\t    return _react2.default.createElement(_ended2.default, {\n\t      data: props.data\n\t    });\n\t  } else if (viewerHasVoted) {\n\t    return _react2.default.createElement(_results2.default, {\n\t      data: props.data\n\t    });\n\t  } else if (pollIsPublished) {\n\t    return _react2.default.createElement(_question2.default, {\n\t      actions: props.actions,\n\t      data: props.data\n\t    });\n\t  }\n\t}\n\t\n\tRoot.propTypes = {\n\t  actions: _react.PropTypes.object.isRequired,\n\t  data: _react.PropTypes.object.isRequired\n\t};\n\n/***/ }),\n\n/***/ 284:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = Loading;\n\t\n\tvar _react = __webpack_require__(187);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction Loading() {\n\t  return _react2.default.createElement(\n\t    'div',\n\t    { className: 'bulbs-poll-loading' },\n\t    'Loading Poll...'\n\t  );\n\t}\n\n/***/ }),\n\n/***/ 285:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = Question;\n\t\n\tvar _react = __webpack_require__(187);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _cover = __webpack_require__(286);\n\t\n\tvar _cover2 = _interopRequireDefault(_cover);\n\t\n\tvar _answers = __webpack_require__(287);\n\t\n\tvar _answers2 = _interopRequireDefault(_answers);\n\t\n\tvar _voteButton = __webpack_require__(292);\n\t\n\tvar _voteButton2 = _interopRequireDefault(_voteButton);\n\t\n\tvar _requestError = __webpack_require__(293);\n\t\n\tvar _requestError2 = _interopRequireDefault(_requestError);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction Question(props) {\n\t  var _props$actions = props.actions,\n\t      selectAnswer = _props$actions.selectAnswer,\n\t      makeVoteRequest = _props$actions.makeVoteRequest,\n\t      resetFetchPollData = _props$actions.resetFetchPollData,\n\t      resetVoteRequest = _props$actions.resetVoteRequest;\n\t  var _props$data = props.data,\n\t      poll = _props$data.poll,\n\t      selectedAnswer = _props$data.selectedAnswer,\n\t      vote = _props$data.vote;\n\t\n\t\n\t  return _react2.default.createElement(\n\t    'div',\n\t    null,\n\t    _react2.default.createElement(_cover2.default, { poll: poll }),\n\t    _react2.default.createElement(\n\t      _requestError2.default,\n\t      {\n\t        error: poll.requestError,\n\t        reset: resetFetchPollData\n\t      },\n\t      'Could not connect to network when fetching poll data.'\n\t    ),\n\t    _react2.default.createElement(\n\t      _requestError2.default,\n\t      {\n\t        error: vote.requestError,\n\t        reset: resetVoteRequest\n\t      },\n\t      'Could not connect to network when placing your vote.'\n\t    ),\n\t    _react2.default.createElement(_answers2.default, {\n\t      poll: poll,\n\t      answers: poll.data.answers,\n\t      selectAnswer: selectAnswer,\n\t      selectedAnswer: selectedAnswer\n\t    }),\n\t    _react2.default.createElement(_voteButton2.default, {\n\t      selectedAnswer: selectedAnswer,\n\t      makeVoteRequest: makeVoteRequest\n\t    })\n\t  );\n\t}\n\t\n\tQuestion.propTypes = {\n\t  actions: _react.PropTypes.object.isRequired,\n\t  data: _react.PropTypes.object.isRequired\n\t};\n\n/***/ }),\n\n/***/ 286:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = Cover;\n\t\n\tvar _react = __webpack_require__(187);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction Cover(props) {\n\t  var poll = props.poll;\n\t\n\t  return _react2.default.createElement(\n\t    \"header\",\n\t    { className: \"bulbs-poll-cover\" },\n\t    _react2.default.createElement(\n\t      \"h1\",\n\t      { className: \"bulbs-poll-cover-title\" },\n\t      poll.data.question_text\n\t    )\n\t  );\n\t}\n\t\n\tCover.propTypes = {\n\t  poll: _react.PropTypes.object.isRequired\n\t};\n\n/***/ }),\n\n/***/ 287:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\texports.default = Answers;\n\t\n\tvar _react = __webpack_require__(187);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _answer = __webpack_require__(288);\n\t\n\tvar _answer2 = _interopRequireDefault(_answer);\n\t\n\tvar _imageAnswer = __webpack_require__(291);\n\t\n\tvar _imageAnswer2 = _interopRequireDefault(_imageAnswer);\n\t\n\tvar _classnames = __webpack_require__(289);\n\t\n\tvar _classnames2 = _interopRequireDefault(_classnames);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction Answers(props) {\n\t  var AnswerType = _answer2.default;\n\t  var listClassName = 'bulbs-poll-answers';\n\t  if (props.poll.data.answer_type === 'imageText') {\n\t    AnswerType = _imageAnswer2.default;\n\t    listClassName = 'bulbs-poll-image-answers';\n\t  }\n\t\n\t  var classNames = (0, _classnames2.default)(listClassName, {\n\t    'bulbs-poll-answers-selected': props.selectedAnswer.id\n\t  });\n\t\n\t  return _react2.default.createElement(\n\t    'ul',\n\t    { className: classNames },\n\t    props.answers.map(function (answer, index) {\n\t      return _react2.default.createElement(AnswerType, _extends({\n\t        key: index,\n\t        answer: answer\n\t      }, props));\n\t    })\n\t  );\n\t}\n\t\n\tAnswers.propTypes = {\n\t  answers: _react.PropTypes.array.isRequired,\n\t  poll: _react.PropTypes.object.isRequired,\n\t  selectAnswer: _react.PropTypes.func.isRequired,\n\t  selectedAnswer: _react.PropTypes.object.isRequired\n\t};\n\n/***/ }),\n\n/***/ 288:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _react = __webpack_require__(187);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _classnames = __webpack_require__(289);\n\t\n\tvar _classnames2 = _interopRequireDefault(_classnames);\n\t\n\tvar _selectionMarker = __webpack_require__(290);\n\t\n\tvar _selectionMarker2 = _interopRequireDefault(_selectionMarker);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _defaults(obj, defaults) { var keys = Object.getOwnPropertyNames(defaults); for (var i = 0; i < keys.length; i++) { var key = keys[i]; var value = Object.getOwnPropertyDescriptor(defaults, key); if (value && value.configurable && obj[key] === undefined) { Object.defineProperty(obj, key, value); } } return obj; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : _defaults(subClass, superClass); }\n\t\n\tvar Answer = function (_React$Component) {\n\t  _inherits(Answer, _React$Component);\n\t\n\t  function Answer() {\n\t    _classCallCheck(this, Answer);\n\t\n\t    return _possibleConstructorReturn(this, _React$Component.apply(this, arguments));\n\t  }\n\t\n\t  Answer.prototype.selectAnswer = function selectAnswer() {\n\t    this.props.selectAnswer(this.props.answer);\n\t  };\n\t\n\t  Answer.prototype.render = function render() {\n\t    var _props = this.props,\n\t        answer = _props.answer,\n\t        selectedAnswer = _props.selectedAnswer;\n\t\n\t\n\t    var isSelected = answer.id === selectedAnswer.id;\n\t    var className = (0, _classnames2.default)('bulbs-poll-answer', {\n\t      'bulbs-poll-answer-selected': isSelected\n\t    });\n\t\n\t    return _react2.default.createElement(\n\t      'li',\n\t      {\n\t        'data-track-label': 'Option',\n\t        className: className,\n\t        onClick: this.selectAnswer.bind(this)\n\t      },\n\t      _react2.default.createElement(_selectionMarker2.default, { isSelected: isSelected }),\n\t      answer.answer_text\n\t    );\n\t  };\n\t\n\t  return Answer;\n\t}(_react2.default.Component);\n\t\n\texports.default = Answer;\n\t\n\t\n\tAnswer.propTypes = {\n\t  answer: _react.PropTypes.object.isRequired,\n\t  selectAnswer: _react.PropTypes.func.isRequired,\n\t  selectedAnswer: _react.PropTypes.object\n\t};\n\n/***/ }),\n\n/***/ 290:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = SelectionMarker;\n\t\n\tvar _react = __webpack_require__(187);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction SelectionMarker(props) {\n\t  var isSelected = props.isSelected;\n\t\n\t\n\t  return _react2.default.createElement(\n\t    \"svg\",\n\t    { width: \"20px\", height: \"20px\" },\n\t    _react2.default.createElement(\"circle\", { cx: \"10\", cy: \"10\", r: \"8\", fill: \"none\", stroke: \"black\", strokeWidth: \"2px\" }),\n\t    _react2.default.createElement(\"circle\", { cx: \"10\", cy: \"10\", r: \"5\", fill: isSelected ? 'black' : 'none' })\n\t  );\n\t}\n\t\n\tSelectionMarker.propTypes = {\n\t  isSelected: _react.PropTypes.bool\n\t};\n\n/***/ }),\n\n/***/ 291:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _react = __webpack_require__(187);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _classnames = __webpack_require__(289);\n\t\n\tvar _classnames2 = _interopRequireDefault(_classnames);\n\t\n\tvar _selectionMarker = __webpack_require__(290);\n\t\n\tvar _selectionMarker2 = _interopRequireDefault(_selectionMarker);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _defaults(obj, defaults) { var keys = Object.getOwnPropertyNames(defaults); for (var i = 0; i < keys.length; i++) { var key = keys[i]; var value = Object.getOwnPropertyDescriptor(defaults, key); if (value && value.configurable && obj[key] === undefined) { Object.defineProperty(obj, key, value); } } return obj; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : _defaults(subClass, superClass); }\n\t\n\tvar ImageAnswer = function (_React$Component) {\n\t  _inherits(ImageAnswer, _React$Component);\n\t\n\t  function ImageAnswer() {\n\t    _classCallCheck(this, ImageAnswer);\n\t\n\t    return _possibleConstructorReturn(this, _React$Component.apply(this, arguments));\n\t  }\n\t\n\t  ImageAnswer.prototype.selectAnswer = function selectAnswer() {\n\t    this.props.selectAnswer(this.props.answer);\n\t  };\n\t\n\t  ImageAnswer.prototype.render = function render() {\n\t    var _props = this.props,\n\t        answer = _props.answer,\n\t        selectedAnswer = _props.selectedAnswer;\n\t\n\t\n\t    var isSelected = answer.id === selectedAnswer.id;\n\t    var className = (0, _classnames2.default)('bulbs-poll-image-answer', {\n\t      'bulbs-poll-answer-selected': isSelected\n\t    });\n\t\n\t    return _react2.default.createElement(\n\t      'li',\n\t      {\n\t        'data-track-label': 'Option',\n\t        className: className,\n\t        onClick: this.selectAnswer\n\t      },\n\t      _react2.default.createElement('img', { src: answer.answer_image_url }),\n\t      _react2.default.createElement(\n\t        'div',\n\t        { className: 'answer-image-text' },\n\t        _react2.default.createElement(_selectionMarker2.default, { isSelected: isSelected }),\n\t        answer.answer_text\n\t      )\n\t    );\n\t  };\n\t\n\t  return ImageAnswer;\n\t}(_react2.default.Component);\n\t\n\texports.default = ImageAnswer;\n\t\n\t\n\tImageAnswer.propTypes = {\n\t  answer: _react.PropTypes.object.isRequired,\n\t  selectAnswer: _react.PropTypes.func.isRequired,\n\t  selectedAnswer: _react.PropTypes.object\n\t};\n\n/***/ }),\n\n/***/ 292:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _react = __webpack_require__(187);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _classnames = __webpack_require__(289);\n\t\n\tvar _classnames2 = _interopRequireDefault(_classnames);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _defaults(obj, defaults) { var keys = Object.getOwnPropertyNames(defaults); for (var i = 0; i < keys.length; i++) { var key = keys[i]; var value = Object.getOwnPropertyDescriptor(defaults, key); if (value && value.configurable && obj[key] === undefined) { Object.defineProperty(obj, key, value); } } return obj; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : _defaults(subClass, superClass); }\n\t\n\tvar VoteButton = function (_React$Component) {\n\t  _inherits(VoteButton, _React$Component);\n\t\n\t  function VoteButton() {\n\t    _classCallCheck(this, VoteButton);\n\t\n\t    return _possibleConstructorReturn(this, _React$Component.apply(this, arguments));\n\t  }\n\t\n\t  VoteButton.prototype.makeVoteRequest = function makeVoteRequest() {\n\t    if (this.props.selectedAnswer) {\n\t      this.props.makeVoteRequest(this.props.selectedAnswer);\n\t    }\n\t  };\n\t\n\t  VoteButton.prototype.render = function render() {\n\t    var selectedAnswer = this.props.selectedAnswer;\n\t\n\t\n\t    var buttonIsDisabled = true;\n\t    if (selectedAnswer && selectedAnswer.id) {\n\t      buttonIsDisabled = false;\n\t    }\n\t\n\t    var classes = (0, _classnames2.default)('bulbs-poll-vote', {\n\t      'bulbs-poll-footer': true\n\t    });\n\t\n\t    return _react2.default.createElement(\n\t      'button',\n\t      {\n\t        'data-track-label': 'Submit',\n\t        className: classes,\n\t        onClick: this.makeVoteRequest.bind(this),\n\t        disabled: buttonIsDisabled\n\t      },\n\t      'Vote'\n\t    );\n\t  };\n\t\n\t  return VoteButton;\n\t}(_react2.default.Component);\n\t\n\texports.default = VoteButton;\n\t\n\t\n\tVoteButton.propTypes = {\n\t  makeVoteRequest: _react.PropTypes.func,\n\t  selectedAnswer: _react.PropTypes.object\n\t};\n\n/***/ }),\n\n/***/ 293:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = RequestError;\n\t\n\tvar _react = __webpack_require__(187);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction RequestError(_ref) {\n\t  var error = _ref.error,\n\t      children = _ref.children,\n\t      reset = _ref.reset;\n\t\n\t  if (error) {\n\t    return _react2.default.createElement(\n\t      \"div\",\n\t      { className: \"bulbs-poll-network-error\" },\n\t      _react2.default.createElement(\n\t        \"p\",\n\t        null,\n\t        children\n\t      ),\n\t      _react2.default.createElement(\n\t        \"button\",\n\t        { onClick: reset },\n\t        \"OK\"\n\t      )\n\t    );\n\t  }\n\t\n\t  return _react2.default.createElement(\"div\", null);\n\t}\n\t\n\tRequestError.propTypes = {\n\t  children: _react.PropTypes.node,\n\t  error: _react.PropTypes.object,\n\t  reset: _react.PropTypes.func\n\t};\n\n/***/ }),\n\n/***/ 294:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = Results;\n\t\n\tvar _react = __webpack_require__(187);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _classnames = __webpack_require__(289);\n\t\n\tvar _classnames2 = _interopRequireDefault(_classnames);\n\t\n\tvar _cover = __webpack_require__(286);\n\t\n\tvar _cover2 = _interopRequireDefault(_cover);\n\t\n\tvar _resultsList = __webpack_require__(295);\n\t\n\tvar _resultsList2 = _interopRequireDefault(_resultsList);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction Results(props) {\n\t  var className = (0, _classnames2.default)('bulbs-poll-results', {});\n\t  var _props$data = props.data,\n\t      poll = _props$data.poll,\n\t      winningAnswers = _props$data.winningAnswers,\n\t      vote = _props$data.vote;\n\t\n\t\n\t  return _react2.default.createElement(\n\t    'div',\n\t    { className: className },\n\t    _react2.default.createElement(_cover2.default, { poll: poll }),\n\t    _react2.default.createElement(_resultsList2.default, {\n\t      poll: poll,\n\t      winningAnswers: winningAnswers,\n\t      vote: vote\n\t    }),\n\t    _react2.default.createElement(\n\t      'div',\n\t      { className: 'bulbs-poll-thank-you bulbs-poll-footer' },\n\t      'Thanks for voting!'\n\t    )\n\t  );\n\t}\n\t\n\tResults.propTypes = {\n\t  data: _react.PropTypes.object.isRequired\n\t};\n\n/***/ }),\n\n/***/ 295:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = ResultsList;\n\t\n\tvar _react = __webpack_require__(187);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _result = __webpack_require__(296);\n\t\n\tvar _result2 = _interopRequireDefault(_result);\n\t\n\tvar _imageResult = __webpack_require__(297);\n\t\n\tvar _imageResult2 = _interopRequireDefault(_imageResult);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction ResultsList(props) {\n\t  var poll = props.poll,\n\t      winningAnswers = props.winningAnswers,\n\t      vote = props.vote;\n\t\n\t  var ResultType = _result2.default;\n\t  var listClassName = 'bulbs-poll-results-list';\n\t  if (props.poll.data.answer_type === 'imageText') {\n\t    ResultType = _imageResult2.default;\n\t    listClassName = 'bulbs-poll-image-results-list';\n\t  }\n\t  return _react2.default.createElement(\n\t    'ul',\n\t    { className: listClassName },\n\t    poll.data.answers.map(function (answer, index) {\n\t      return _react2.default.createElement(ResultType, {\n\t        key: index,\n\t        answer: answer,\n\t        poll: poll,\n\t        vote: vote,\n\t        winningAnswers: winningAnswers\n\t      });\n\t    })\n\t  );\n\t}\n\t\n\tResultsList.propTypes = {\n\t  poll: _react.PropTypes.object.isRequired,\n\t  vote: _react.PropTypes.object.isRequired,\n\t  winningAnswers: _react.PropTypes.array.isRequired\n\t};\n\n/***/ }),\n\n/***/ 296:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = Result;\n\t\n\tvar _react = __webpack_require__(187);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _classnames = __webpack_require__(289);\n\t\n\tvar _classnames2 = _interopRequireDefault(_classnames);\n\t\n\tvar _selectionMarker = __webpack_require__(290);\n\t\n\tvar _selectionMarker2 = _interopRequireDefault(_selectionMarker);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction Result(props) {\n\t  var answer = props.answer,\n\t      poll = props.poll,\n\t      vote = props.vote,\n\t      winningAnswers = props.winningAnswers;\n\t\n\t\n\t  var isWinningAnswer = winningAnswers.find(function (winningAnswer) {\n\t    return winningAnswer.sodahead_id === answer.sodahead_id;\n\t  });\n\t\n\t  var isVoteAnswer = !!(vote.data && vote.data.answer.id === answer.sodahead_id);\n\t\n\t  var className = (0, _classnames2.default)('bulbs-poll-result', {\n\t    'bulbs-poll-result-winning': isWinningAnswer,\n\t    'bulbs-poll-result-selected': isVoteAnswer\n\t  });\n\t  var total_votes = answer.total_votes;\n\t\n\t  var percent = void 0;\n\t  if (poll.data.total_votes > 1) {\n\t    percent = total_votes / poll.data.total_votes * 100;\n\t  } else {\n\t    percent = total_votes * 100;\n\t  }\n\t  var percentResult = percent.toFixed(0) + '%';\n\t\n\t  return _react2.default.createElement(\n\t    'li',\n\t    { className: className },\n\t    _react2.default.createElement('div', {\n\t      className: 'bulbs-poll-answer-bar',\n\t      style: { width: percentResult }\n\t    }),\n\t    _react2.default.createElement(\n\t      'div',\n\t      { className: 'bulbs-poll-answer-title' },\n\t      _react2.default.createElement(_selectionMarker2.default, { isSelected: isVoteAnswer }),\n\t      _react2.default.createElement(\n\t        'span',\n\t        { className: 'bulbs-poll-answer-text' },\n\t        answer.answer_text\n\t      ),\n\t      _react2.default.createElement(\n\t        'span',\n\t        { className: 'bulbs-poll-answer-result' },\n\t        percentResult\n\t      )\n\t    )\n\t  );\n\t}\n\t\n\tResult.propTypes = {\n\t  answer: _react.PropTypes.object.isRequired,\n\t  poll: _react.PropTypes.object.isRequired,\n\t  vote: _react.PropTypes.object.isRequired,\n\t  winningAnswers: _react.PropTypes.array.isRequired\n\t};\n\n/***/ }),\n\n/***/ 297:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = ImageResult;\n\t\n\tvar _react = __webpack_require__(187);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _classnames = __webpack_require__(289);\n\t\n\tvar _classnames2 = _interopRequireDefault(_classnames);\n\t\n\tvar _selectionMarker = __webpack_require__(290);\n\t\n\tvar _selectionMarker2 = _interopRequireDefault(_selectionMarker);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction ImageResult(props) {\n\t  var answer = props.answer,\n\t      poll = props.poll,\n\t      vote = props.vote,\n\t      winningAnswers = props.winningAnswers;\n\t\n\t\n\t  var isWinningAnswer = winningAnswers.find(function (winningAnswer) {\n\t    return winningAnswer.sodahead_id === answer.sodahead_id;\n\t  });\n\t\n\t  var isVoteAnswer = !!(vote.data && vote.data.answer.id === answer.sodahead_id);\n\t\n\t  var className = (0, _classnames2.default)('bulbs-poll-image-result', {\n\t    'bulbs-poll-result-winning': isWinningAnswer,\n\t    'bulbs-poll-result-selected': isVoteAnswer\n\t  });\n\t  var total_votes = answer.total_votes;\n\t\n\t  var percent = void 0;\n\t  if (poll.data.total_votes > 1) {\n\t    percent = total_votes / poll.data.total_votes * 100;\n\t  } else {\n\t    percent = total_votes * 100;\n\t  }\n\t  var percentResult = percent.toFixed(0) + '%';\n\t\n\t  return _react2.default.createElement(\n\t    'li',\n\t    { className: className },\n\t    _react2.default.createElement(\n\t      'div',\n\t      { className: 'result-image-list-item' },\n\t      _react2.default.createElement('div', {\n\t        className: 'bulbs-poll-image-answer-bar',\n\t        style: { height: percentResult }\n\t      }),\n\t      _react2.default.createElement(\n\t        'div',\n\t        { className: 'bulbs-poll-image-answer-title' },\n\t        _react2.default.createElement('img', { src: answer.answer_image_url }),\n\t        _react2.default.createElement(\n\t          'div',\n\t          { className: 'answer-image-text' },\n\t          _react2.default.createElement(_selectionMarker2.default, { isSelected: isVoteAnswer }),\n\t          _react2.default.createElement(\n\t            'span',\n\t            { className: 'bulbs-poll-image-answer-text' },\n\t            answer.answer_text\n\t          )\n\t        )\n\t      )\n\t    ),\n\t    _react2.default.createElement(\n\t      'div',\n\t      { className: 'bulbs-poll-answer-result' },\n\t      percentResult\n\t    )\n\t  );\n\t}\n\t\n\tImageResult.propTypes = {\n\t  answer: _react.PropTypes.object.isRequired,\n\t  poll: _react.PropTypes.object.isRequired,\n\t  vote: _react.PropTypes.object.isRequired,\n\t  winningAnswers: _react.PropTypes.array.isRequired\n\t};\n\n/***/ }),\n\n/***/ 298:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = Ended;\n\t\n\tvar _react = __webpack_require__(187);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _cover = __webpack_require__(286);\n\t\n\tvar _cover2 = _interopRequireDefault(_cover);\n\t\n\tvar _resultsList = __webpack_require__(295);\n\t\n\tvar _resultsList2 = _interopRequireDefault(_resultsList);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction Ended(props) {\n\t  var _props$data = props.data,\n\t      poll = _props$data.poll,\n\t      winningAnswers = _props$data.winningAnswers,\n\t      vote = _props$data.vote;\n\t\n\t\n\t  return _react2.default.createElement(\n\t    'div',\n\t    { className: 'bulbs-poll-ended' },\n\t    _react2.default.createElement(_cover2.default, { poll: poll }),\n\t    _react2.default.createElement(_resultsList2.default, {\n\t      poll: poll,\n\t      winningAnswers: winningAnswers,\n\t      vote: vote\n\t    }),\n\t    _react2.default.createElement(\n\t      'div',\n\t      { className: 'bulbs-poll-ended-message bulbs-poll-footer' },\n\t      'Poll Closed'\n\t    )\n\t  );\n\t}\n\t\n\tEnded.propTypes = {\n\t  data: _react.PropTypes.object.isRequired\n\t};\n\n/***/ }),\n\n/***/ 299:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = ComingSoon;\n\t\n\tvar _react = __webpack_require__(187);\n\t\n\tvar _react2 = _interopRequireDefault(_react);\n\t\n\tvar _voteButton = __webpack_require__(292);\n\t\n\tvar _voteButton2 = _interopRequireDefault(_voteButton);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction ComingSoon() {\n\t  return _react2.default.createElement(\n\t    'div',\n\t    { className: 'bulbs-poll-coming-soon' },\n\t    _react2.default.createElement(\n\t      'div',\n\t      { className: 'bulbs-poll-coming-soon-message' },\n\t      'Poll Coming Soon'\n\t    ),\n\t    _react2.default.createElement(_voteButton2.default, null)\n\t  );\n\t}\n\n/***/ }),\n\n/***/ 300:\n/***/ (function(module, exports) {\n\n\t// removed by extract-text-webpack-plugin\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// bulbs-poll.js","import React, { PropTypes } from 'react';\nimport { registerReactElement } from 'bulbs-elements/register';\nimport BulbsElement from 'bulbs-elements/bulbs-element';\n\nimport PollSchema from './bulbs-poll-schema';\n\nimport BulbsPollRoot from './components/root';\n\nimport './bulbs-poll.scss';\n\nexport default class BulbsPoll extends BulbsElement {\n  initialDispatch () {\n    this.store.actions.setSrc(this.props.src);\n    this.store.actions.fetchPollData(this.props.src);\n    this.store.actions.getCachedVoteData(this.props.src);\n  }\n\n  render () {\n    return (\n      <div data-track-action='Poll'>\n        <BulbsPollRoot\n          data={this.state}\n          actions={this.store.actions}\n        />\n      </div>\n    );\n  }\n}\n\nBulbsPoll.displayName = 'BulbsPoll';\n\nBulbsPoll.schema = PollSchema;\n\nBulbsPoll.propTypes = {\n  src: PropTypes.string.isRequired,\n};\n\nregisterReactElement('bulbs-poll', BulbsPoll);\n\n\n\n// WEBPACK FOOTER //\n// ./elements/bulbs-poll/bulbs-poll.js","import PollField from './fields/poll';\nimport SelectedAnswerField from './fields/selected-answer';\nimport WinningAnswersField from './fields/winning-answers';\nimport VoteField from './fields/vote';\nimport SrcField from './fields/src';\nimport NowField from './fields/now';\n\nconst PollSchema = {\n  poll: PollField,\n  selectedAnswer: SelectedAnswerField,\n  winningAnswers: WinningAnswersField,\n  vote: VoteField,\n  src: SrcField,\n  now: NowField,\n};\n\nexport default PollSchema;\n\n\n\n// WEBPACK FOOTER //\n// ./elements/bulbs-poll/bulbs-poll-schema.js","import util from 'bulbs-elements/util';\n\nfunction parsePoll (poll) {\n  if (poll.published) {\n    poll.published = new Date(poll.published);\n  }\n\n  if (poll.end_date) {\n    poll.end_date = new Date(poll.end_date);\n  }\n\n  return poll;\n}\n\nconst PollField = {\n  initialState: {\n    data: {\n      answers: [],\n    },\n    requestInFlight: false,\n  },\n  actions: {\n    setPollTotalVotes (state, count) {\n      state.data.total_votes = count;\n      return state;\n    },\n    updateAnswerVoteCount (state, vote) {\n      let answer = state.data.answers.find((eachAnswer) => {\n        return eachAnswer.sodahead_id === vote.answer.id;\n      });\n\n      let answerIndex;\n      state.data.answers.forEach((dataAnswer, index) => {\n        if (dataAnswer.id === answer.id) {\n          answerIndex = index;\n        }\n      });\n      answer.total_votes = vote.answer.totalVotes;\n      state.data.answers = [\n        ...state.data.answers.slice(0, answerIndex),\n        answer,\n        ...state.data.answers.slice(answerIndex + 1),\n      ];\n\n      return state;\n    },\n    fetchPollData (state, src, store) {\n      src || (src = store.src);\n      store.src = src;\n      util.makeRequest(src, {\n        credentials: 'include',\n        success: store.actions.fetchPollDataSuccess,\n        failure: store.actions.fetchPollDataFailure,\n        error: store.actions.fetchPollDataError,\n      });\n      state.requestInFlight = true;\n      return state;\n    },\n    fetchPollDataSuccess (state, data, store) {\n      state.data = parsePoll(data);\n      state.requestInFlight = false;\n\n      setImmediate(() => {\n        store.actions.collectWinningAnswers(store.state.poll.data.answers);\n      });\n\n      return state;\n    },\n    fetchPollDataFailure (state, failure) {\n      state.requestFailure = failure;\n      state.requestInFlight = false;\n      return state;\n    },\n    fetchPollDataError (state, error) {\n      state.requestError = error;\n      state.requestInFlight = false;\n      return state;\n    },\n    resetFetchPollData (state, _null, store) {\n      state.requestInFlight = false;\n      delete state.requestFailure;\n      delete state.requestError;\n      setImmediate(store.actions.fetchPollData);\n      return state;\n    },\n  },\n};\n\nexport default PollField;\n\n\n\n// WEBPACK FOOTER //\n// ./elements/bulbs-poll/fields/poll.js","const SelectedAnswerField = {\n  initialState: {},\n  actions: {\n    selectAnswer (state, answer) {\n      return (state && state.id === answer.id) ? {} : answer;\n    },\n  },\n};\n\nexport default SelectedAnswerField;\n\n\n\n// WEBPACK FOOTER //\n// ./elements/bulbs-poll/fields/selected-answer.js","const WinningAnswersField = {\n  initialState: [],\n  actions: {\n    collectWinningAnswers (state, answers = []) {\n      let highScore = 0;\n      let winningAnswers = [];\n\n      answers.forEach((eachAnswer) => {\n        if (eachAnswer.total_votes === highScore) {\n          winningAnswers.push(eachAnswer);\n        }\n        else if (eachAnswer.total_votes > highScore) {\n          highScore = eachAnswer.total_votes;\n          winningAnswers = [eachAnswer];\n        }\n      });\n\n      return winningAnswers;\n    },\n  },\n};\n\nexport default WinningAnswersField;\n\n\n\n// WEBPACK FOOTER //\n// ./elements/bulbs-poll/fields/winning-answers.js","import util from 'bulbs-elements/util';\n\nfunction cacheKey (pollId) {\n  return `bulbs-poll:${pollId}:vote`;\n}\n\nconst VoteField = {\n  initialState: {\n    voted: false,\n  },\n  actions: {\n    getCachedVoteData (state, pollKey) {\n      let value = localStorage.getItem(cacheKey(pollKey));\n      if (value) {\n        state.voted = true;\n        state.data = JSON.parse(value);\n      }\n      return state;\n    },\n    makeVoteRequest (state, answer, store) {\n      let { poll } = store.state;\n      let url = `https://onion.sodahead.com/api/polls/${poll.data.sodahead_id}/vote/`;\n      util.makeRequest(url, {\n        method: 'post',\n        headers: {\n          'Accept': 'application/json',\n          'Content-Type': 'application/json',\n        },\n        body: `answer=${answer.sodahead_id}`,\n        success: store.actions.voteRequestSuccess,\n        failure: store.actions.voteRequestFailure,\n        error: store.actions.voteRequestError,\n      });\n\n      state.requestInFlight = true;\n      return state;\n    },\n    voteRequestSuccess (state, data, store) {\n      localStorage.setItem(cacheKey(store.state.src), JSON.stringify(data.vote));\n      setImmediate(() => {\n        store.actions.setPollTotalVotes(data.poll.totalVotes);\n        store.actions.updateAnswerVoteCount(data.vote);\n        store.actions.collectWinningAnswers(store.state.poll.data.answers);\n      });\n      state.voted = true;\n      state.data = data.vote;\n      state.requestInFlight = false;\n      return state;\n    },\n    voteRequestFailure (state, failure) {\n      state.requestFailure = failure;\n      state.requestInFlight = false;\n      return state;\n    },\n    voteRequestError (state, error) {\n      state.requestInFlight = false;\n      state.requestError = error;\n      return state;\n    },\n    resetVoteRequest (state) {\n      state.requestInFlight = false;\n      delete state.requestFailure;\n      delete state.requestError;\n      return state;\n    },\n  },\n};\n\nexport default VoteField;\n\n\n\n// WEBPACK FOOTER //\n// ./elements/bulbs-poll/fields/vote.js","const SrcField = {\n  initialState: '',\n  actions: {\n    setSrc (state, src) {\n      return src;\n    },\n  },\n};\n\nexport default SrcField;\n\n\n\n// WEBPACK FOOTER //\n// ./elements/bulbs-poll/fields/src.js","const NowField = {\n  initialState: new Date(),\n};\n\nexport default NowField;\n\n\n\n// WEBPACK FOOTER //\n// ./elements/bulbs-poll/fields/now.js","import React, { PropTypes } from 'react';\n\nimport PollLoading from './loading';\nimport PollQuestion from './question';\nimport PollResults from './results';\nimport PollEnded from './ended';\nimport ComingSoon from './coming-soon';\n\nexport default function Root (props) {\n  let pollData = props.data.poll.data;\n  let now = props.data.now;\n  let pollNotLoaded = !pollData.id;\n  let pollIsPublished = pollData.published && pollData.published <= now;\n  let pollHasEnded = pollData.end_date && pollData.end_date <= now;\n  let viewerHasVoted = props.data.vote.voted;\n\n  if (pollNotLoaded) {\n    return <PollLoading/>;\n  }\n  else if (!pollIsPublished) {\n    return <ComingSoon/>;\n  }\n  else if (pollHasEnded) {\n    return <PollEnded\n      data={props.data}\n    />;\n  }\n  else if (viewerHasVoted) {\n    return <PollResults\n      data={props.data}\n    />;\n  }\n  else if (pollIsPublished) {\n    return <PollQuestion\n      actions={props.actions}\n      data={props.data}\n    />;\n  }\n}\n\nRoot.propTypes = {\n  actions: PropTypes.object.isRequired,\n  data: PropTypes.object.isRequired,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./elements/bulbs-poll/components/root.js","import React from 'react';\n\nexport default function Loading () {\n  return (\n    <div className='bulbs-poll-loading'>\n      Loading Poll...\n    </div>\n  );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./elements/bulbs-poll/components/loading.js","import React, { PropTypes } from 'react';\n\nimport Cover from './cover';\nimport Answers from './answers';\nimport VoteButton from './vote-button';\nimport RequestError from './request-error';\n\nexport default function Question (props) {\n  let {\n    selectAnswer,\n    makeVoteRequest,\n    resetFetchPollData,\n    resetVoteRequest,\n  } = props.actions;\n\n  let {\n    poll,\n    selectedAnswer,\n    vote,\n  } = props.data;\n\n  return (\n    <div>\n      <Cover poll={poll} />\n\n      <RequestError\n        error={poll.requestError}\n        reset={resetFetchPollData}\n      >\n        Could not connect to network when fetching poll data.\n      </RequestError>\n\n      <RequestError\n        error={vote.requestError}\n        reset={resetVoteRequest}\n      >\n        Could not connect to network when placing your vote.\n      </RequestError>\n\n      <Answers\n        poll={poll}\n        answers={poll.data.answers}\n        selectAnswer={selectAnswer}\n        selectedAnswer={selectedAnswer}\n      />\n\n      <VoteButton\n        selectedAnswer={selectedAnswer}\n        makeVoteRequest={makeVoteRequest}\n      />\n    </div>\n  );\n}\n\nQuestion.propTypes = {\n  actions: PropTypes.object.isRequired,\n  data: PropTypes.object.isRequired,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./elements/bulbs-poll/components/question.js","import React, { PropTypes } from 'react';\n\nexport default function Cover (props) {\n  let { poll } = props;\n  return (\n    <header className=\"bulbs-poll-cover\">\n      <h1 className=\"bulbs-poll-cover-title\">\n        { poll.data.question_text }\n      </h1>\n    </header>\n  );\n}\n\nCover.propTypes = {\n  poll: PropTypes.object.isRequired,\n};\n\n\n\n\n// WEBPACK FOOTER //\n// ./elements/bulbs-poll/components/cover.js","import React, { PropTypes } from 'react';\nimport Answer from './answer';\nimport ImageAnswer from './image-answer';\nimport classnames from 'classnames';\n\nexport default function Answers (props) {\n  let AnswerType = Answer;\n  let listClassName = 'bulbs-poll-answers';\n  if (props.poll.data.answer_type === 'imageText') {\n    AnswerType = ImageAnswer;\n    listClassName = 'bulbs-poll-image-answers';\n  }\n\n  let classNames = classnames(listClassName, {\n    'bulbs-poll-answers-selected': props.selectedAnswer.id,\n  });\n\n  return (\n    <ul className={classNames}>\n      {\n        props.answers.map((answer, index) => {\n          return <AnswerType\n            key={index}\n            answer={answer}\n            {...props}\n          />;\n        })\n      }\n    </ul>\n  );\n}\n\nAnswers.propTypes = {\n  answers: PropTypes.array.isRequired,\n  poll: PropTypes.object.isRequired,\n  selectAnswer: PropTypes.func.isRequired,\n  selectedAnswer: PropTypes.object.isRequired,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./elements/bulbs-poll/components/answers.js","import React, { PropTypes } from 'react';\nimport classnames from 'classnames';\nimport SelectionMarker from './selection-marker';\n\nexport default class Answer extends React.Component {\n  selectAnswer () {\n    this.props.selectAnswer(this.props.answer);\n  }\n\n  render () {\n    let {\n      answer,\n      selectedAnswer,\n    } = this.props;\n\n    let isSelected = answer.id === selectedAnswer.id;\n    let className = classnames('bulbs-poll-answer', {\n      'bulbs-poll-answer-selected': isSelected,\n    });\n\n    return (\n      <li\n        data-track-label='Option'\n        className={className}\n        onClick={this.selectAnswer.bind(this)}\n      >\n        <SelectionMarker isSelected={isSelected} />\n        { answer.answer_text }\n      </li>\n    );\n  }\n}\n\nAnswer.propTypes = {\n  answer: PropTypes.object.isRequired,\n  selectAnswer: PropTypes.func.isRequired,\n  selectedAnswer: PropTypes.object,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./elements/bulbs-poll/components/answer.js","import React, { PropTypes } from 'react';\n\nexport default function SelectionMarker (props) {\n  let {\n    isSelected,\n  } = props;\n\n  return (\n    <svg width=\"20px\" height=\"20px\">\n      <circle cx=\"10\" cy=\"10\" r=\"8\" fill=\"none\" stroke=\"black\" strokeWidth=\"2px\" />\n      <circle cx=\"10\" cy=\"10\" r=\"5\" fill={isSelected ? 'black' : 'none' } />\n    </svg>\n  );\n}\n\nSelectionMarker.propTypes = {\n  isSelected: PropTypes.bool,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./elements/bulbs-poll/components/selection-marker.js","import React, { PropTypes } from 'react';\nimport classnames from 'classnames';\nimport SelectionMarker from './selection-marker';\n\nexport default class ImageAnswer extends React.Component {\n  selectAnswer () {\n    this.props.selectAnswer(this.props.answer);\n  }\n\n  render () {\n    let {\n      answer,\n      selectedAnswer,\n    } = this.props;\n\n    let isSelected = answer.id === selectedAnswer.id;\n    let className = classnames('bulbs-poll-image-answer', {\n      'bulbs-poll-answer-selected': isSelected,\n    });\n\n    return (\n      <li\n        data-track-label='Option'\n        className={className}\n        onClick={this.selectAnswer}\n      >\n        <img src={ answer.answer_image_url }/>\n        <div className=\"answer-image-text\">\n          <SelectionMarker isSelected={isSelected} />\n          { answer.answer_text }\n        </div>\n      </li>\n    );\n  }\n}\n\nImageAnswer.propTypes = {\n  answer: PropTypes.object.isRequired,\n  selectAnswer: PropTypes.func.isRequired,\n  selectedAnswer: PropTypes.object,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./elements/bulbs-poll/components/image-answer.js","import React, { PropTypes } from 'react';\nimport classnames from 'classnames';\n\nexport default class VoteButton extends React.Component {\n  makeVoteRequest () {\n    if (this.props.selectedAnswer) {\n      this.props.makeVoteRequest(this.props.selectedAnswer);\n    }\n  }\n  render () {\n    let { selectedAnswer } = this.props;\n\n    let buttonIsDisabled = true;\n    if (selectedAnswer && selectedAnswer.id) {\n      buttonIsDisabled = false;\n    }\n\n    let classes = classnames('bulbs-poll-vote', {\n      'bulbs-poll-footer': true,\n    });\n\n    return (\n      <button\n        data-track-label='Submit'\n        className={classes}\n        onClick={this.makeVoteRequest.bind(this)}\n        disabled={buttonIsDisabled}\n      >\n        Vote\n      </button>\n    );\n  }\n}\n\nVoteButton.propTypes = {\n  makeVoteRequest: PropTypes.func,\n  selectedAnswer: PropTypes.object,\n};\n\n\n\n\n// WEBPACK FOOTER //\n// ./elements/bulbs-poll/components/vote-button.js","import React, { PropTypes } from 'react';\n\nexport default function RequestError ({ error, children, reset }) {\n  if (error) {\n    return (\n      <div className=\"bulbs-poll-network-error\">\n        <p>\n          { children }\n        </p>\n        <button onClick={reset}>OK</button>\n      </div>\n    );\n  }\n\n  return <div />;\n}\n\nRequestError.propTypes = {\n  children: PropTypes.node,\n  error: PropTypes.object,\n  reset: PropTypes.func,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./elements/bulbs-poll/components/request-error.js","import React, { PropTypes } from 'react';\nimport classnames from 'classnames';\n\nimport Cover from './cover';\nimport ResultsList from './results-list';\n\nexport default function Results (props) {\n  let className = classnames('bulbs-poll-results', {});\n  let {\n    poll,\n    winningAnswers,\n    vote,\n  } = props.data;\n\n  return (\n    <div className={className}>\n      <Cover poll={poll} />\n      <ResultsList\n        poll={poll}\n        winningAnswers={winningAnswers}\n        vote={vote}\n      />\n      <div className='bulbs-poll-thank-you bulbs-poll-footer'>\n        Thanks for voting!\n      </div>\n    </div>\n  );\n}\n\nResults.propTypes = {\n  data: PropTypes.object.isRequired,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./elements/bulbs-poll/components/results.js","import React, { PropTypes } from 'react';\nimport Result from './result';\nimport ImageResult from './image-result';\n\nexport default function ResultsList (props) {\n  let {\n    poll,\n    winningAnswers,\n    vote,\n  } = props;\n  let ResultType = Result;\n  let listClassName = 'bulbs-poll-results-list';\n  if(props.poll.data.answer_type === 'imageText') {\n    ResultType = ImageResult;\n    listClassName = 'bulbs-poll-image-results-list';\n  }\n  return (\n    <ul className={listClassName}>\n      {\n        poll.data.answers.map((answer, index) => {\n          return <ResultType\n            key={index}\n            answer={answer}\n            poll={poll}\n            vote={vote}\n            winningAnswers={winningAnswers}\n          />;\n        })\n      }\n    </ul>\n  );\n}\n\nResultsList.propTypes = {\n  poll: PropTypes.object.isRequired,\n  vote: PropTypes.object.isRequired,\n  winningAnswers: PropTypes.array.isRequired,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./elements/bulbs-poll/components/results-list.js","import React, { PropTypes } from 'react';\nimport classnames from 'classnames';\nimport SelectionMarker from './selection-marker';\n\nexport default function Result (props) {\n  let {\n    answer,\n    poll,\n    vote,\n    winningAnswers,\n  } = props;\n\n  let isWinningAnswer = winningAnswers.find((winningAnswer) => {\n    return winningAnswer.sodahead_id === answer.sodahead_id;\n  });\n\n  let isVoteAnswer = !!(vote.data && vote.data.answer.id === answer.sodahead_id);\n\n  let className = classnames('bulbs-poll-result', {\n    'bulbs-poll-result-winning': isWinningAnswer,\n    'bulbs-poll-result-selected': isVoteAnswer,\n  });\n  let { total_votes } = answer;\n  let percent;\n  if(poll.data.total_votes > 1) {\n    percent = (total_votes / poll.data.total_votes) * 100;\n  }\n  else {\n    percent = total_votes * 100;\n  }\n  let percentResult = `${percent.toFixed(0)}%`;\n\n  return (\n    <li className={className}>\n      <div\n        className='bulbs-poll-answer-bar'\n        style={{ width: percentResult }}\n      />\n      <div className='bulbs-poll-answer-title'>\n        <SelectionMarker isSelected={isVoteAnswer}/>\n        <span className='bulbs-poll-answer-text'>\n          { answer.answer_text }\n        </span>\n        <span className='bulbs-poll-answer-result'>\n          { percentResult }\n        </span>\n      </div>\n    </li>\n  );\n}\n\nResult.propTypes = {\n  answer: PropTypes.object.isRequired,\n  poll: PropTypes.object.isRequired,\n  vote: PropTypes.object.isRequired,\n  winningAnswers: PropTypes.array.isRequired,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./elements/bulbs-poll/components/result.js","import React, { PropTypes } from 'react';\nimport classnames from 'classnames';\nimport SelectionMarker from './selection-marker';\n\nexport default function ImageResult (props) {\n  let {\n    answer,\n    poll,\n    vote,\n    winningAnswers,\n  } = props;\n\n  let isWinningAnswer = winningAnswers.find((winningAnswer) => {\n    return winningAnswer.sodahead_id === answer.sodahead_id;\n  });\n\n  let isVoteAnswer = !!(vote.data && vote.data.answer.id === answer.sodahead_id);\n\n  let className = classnames('bulbs-poll-image-result', {\n    'bulbs-poll-result-winning': isWinningAnswer,\n    'bulbs-poll-result-selected': isVoteAnswer,\n  });\n  let { total_votes } = answer;\n  let percent;\n  if(poll.data.total_votes > 1) {\n    percent = (total_votes / poll.data.total_votes) * 100;\n  }\n  else {\n    percent = total_votes * 100;\n  }\n  let percentResult = `${percent.toFixed(0)}%`;\n\n  return (\n    <li className={className}>\n      <div className=\"result-image-list-item\">\n        <div\n          className='bulbs-poll-image-answer-bar'\n          style={{ height: percentResult }}\n        />\n        <div className='bulbs-poll-image-answer-title'>\n          <img src={ answer.answer_image_url } />\n          <div className=\"answer-image-text\">\n            <SelectionMarker isSelected={isVoteAnswer}/>\n            <span className='bulbs-poll-image-answer-text'>\n              { answer.answer_text }\n            </span>\n          </div>\n        </div>\n      </div>\n      <div className='bulbs-poll-answer-result'>\n        { percentResult }\n      </div>\n    </li>\n  );\n}\n\nImageResult.propTypes = {\n  answer: PropTypes.object.isRequired,\n  poll: PropTypes.object.isRequired,\n  vote: PropTypes.object.isRequired,\n  winningAnswers: PropTypes.array.isRequired,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./elements/bulbs-poll/components/image-result.js","import React, { PropTypes } from 'react';\nimport Cover from './cover';\nimport ResultsList from './results-list';\n\nexport default function Ended (props) {\n  let {\n    poll,\n    winningAnswers,\n    vote,\n  } = props.data;\n\n  return (\n    <div className='bulbs-poll-ended'>\n      <Cover poll={poll}/>\n      <ResultsList\n        poll={poll}\n        winningAnswers={winningAnswers}\n        vote={vote}\n      />\n      <div className='bulbs-poll-ended-message bulbs-poll-footer'>\n        Poll Closed\n      </div>\n    </div>\n  );\n}\n\nEnded.propTypes = {\n  data: PropTypes.object.isRequired,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./elements/bulbs-poll/components/ended.js","import React from 'react';\nimport VoteButton from './vote-button';\n\nexport default function ComingSoon () {\n  return (\n    <div className='bulbs-poll-coming-soon'>\n      <div className='bulbs-poll-coming-soon-message'>Poll Coming Soon</div>\n      <VoteButton/>\n    </div>\n  );\n}\n\n\n\n// WEBPACK FOOTER //\n// ./elements/bulbs-poll/components/coming-soon.js"],"sourceRoot":""}