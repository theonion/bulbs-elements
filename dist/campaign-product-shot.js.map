{"version":3,"sources":["webpack:///campaign-product-shot.js","webpack:///./elements/campaign-product-shot/campaign-product-shot.js"],"names":["webpackJsonp","module","exports","__webpack_require__","_interopRequireDefault","obj","__esModule","default","_defaults","defaults","keys","Object","getOwnPropertyNames","i","length","key","value","getOwnPropertyDescriptor","configurable","undefined","defineProperty","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","create","constructor","enumerable","writable","setPrototypeOf","_register","_util","_invariant","_invariant2","CampaignProductShot","_BulbsHTMLElement","this","apply","arguments","handleRequestSuccess","data","product_shot_url","innerHTML","clickthrough_url","handleRequestError","error","console","log","attachedCallback","hasAttribute","fetch","getAttribute","then","filterBadResponse","getResponseJSON","bind","catch","attributeChangedCallback","name","previousValue","document","body","contains","BulbsHTMLElement","registerElement"],"mappings":"AAAAA,cAAc,KAER,SAAUC,EAAQC,EAASC,GAEhC,YAcA,SAASC,GAAuBC,GAAO,MAAOA,IAAOA,EAAIC,WAAaD,GAAQE,QAASF,GAEvF,QAASG,GAAUH,EAAKI,GAA6D,IAAK,GAAlDC,GAAOC,OAAOC,oBAAoBH,GAAoBI,EAAI,EAAGA,EAAIH,EAAKI,OAAQD,IAAK,CAAE,GAAIE,GAAML,EAAKG,GAAQG,EAAQL,OAAOM,yBAAyBR,EAAUM,EAAUC,IAASA,EAAME,cAA6BC,SAAbd,EAAIU,IAAsBJ,OAAOS,eAAef,EAAKU,EAAKC,GAAY,MAAOX,GAE5T,QAASgB,GAAgBC,EAAUC,GAAe,KAAMD,YAAoBC,IAAgB,KAAM,IAAIC,WAAU,qCAEhH,QAASC,GAA2BC,EAAMC,GAAQ,IAAKD,EAAQ,KAAM,IAAIE,gBAAe,4DAAgE,QAAOD,GAAyB,gBAATA,IAAqC,kBAATA,GAA8BD,EAAPC,EAElO,QAASE,GAAUC,EAAUC,GAAc,GAA0B,kBAAfA,IAA4C,OAAfA,EAAuB,KAAM,IAAIP,WAAU,iEAAoEO,GAAeD,GAASE,UAAYrB,OAAOsB,OAAOF,GAAcA,EAAWC,WAAaE,aAAelB,MAAOc,EAAUK,YAAY,EAAOC,UAAU,EAAMlB,cAAc,KAAea,IAAYpB,OAAO0B,eAAiB1B,OAAO0B,eAAeP,EAAUC,GAAcvB,EAAUsB,EAAUC,IApBhepB,OAAOS,eAAelB,EAAS,cAC7Bc,OAAO,GCPV,IAAAsB,GAAAnC,EAAA,GAIAoC,EAAApC,EAAA,KACAqC,EAAArC,EAAA,IDWKsC,EAAcrC,EAAuBoC,GCTrBE,EDqBM,SAAUC,GAGlC,QAASD,KAGP,MAFArB,GAAgBuB,KAAMF,GAEfjB,EAA2BmB,KAAMD,EAAkBE,MAAMD,KAAME,YAyBxE,MA9BAjB,GAAUa,EAAqBC,GAQ/BD,EAAoBV,UC5BrBe,qBD4BsD,SC5BhCC,IACpB,EAAAP,EAAAlC,SACEyC,EAAKC,iBACL,sFACFL,KAAKM,UAAL,yDAEeF,EAAKG,iBAFpB,2BAGkBH,EAAKC,iBAHvB,kCD6BDP,EAAoBV,UCrBrBoB,mBDqBoD,SCrBhCC,GAClBC,QAAQC,IAAIF,IDwBbX,EAAoBV,UCrBrBwB,iBDqBkD,YCpBhD,EAAAf,EAAAlC,SAAUqC,KAAKa,aAAa,OAAQ,kDACpCC,MAAMd,KAAKe,aAAa,QACrBC,KADHrB,EAAAsB,mBAEGD,KAFHrB,EAAAuB,iBAGGF,KAAKhB,KAAKG,qBAAqBgB,KAAKnB,OACpCoB,MAAMpB,KAAKQ,qBDoBfV,EAAoBV,UCjBrBiC,yBDiB0D,SCjBhCC,EAAMC,EAAenD,GACzCoD,SAASC,KAAKC,SAAS1B,OACZ,QAATsB,GAAkBC,IAAkBnD,GACtC4B,KAAKY,oBDsBHd,GACPJ,EAAUiC,iBAEZrE,GAAQK,QCvDYmC,GAoCrB,EAAAJ,EAAAkC,iBAAgB,wBAAyB9B","file":"campaign-product-shot.js","sourcesContent":["webpackJsonp([38],[\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _register = __webpack_require__(1);\n\t\n\tvar _util = __webpack_require__(189);\n\t\n\tvar _invariant = __webpack_require__(36);\n\t\n\tvar _invariant2 = _interopRequireDefault(_invariant);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _defaults(obj, defaults) { var keys = Object.getOwnPropertyNames(defaults); for (var i = 0; i < keys.length; i++) { var key = keys[i]; var value = Object.getOwnPropertyDescriptor(defaults, key); if (value && value.configurable && obj[key] === undefined) { Object.defineProperty(obj, key, value); } } return obj; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : _defaults(subClass, superClass); }\n\t\n\tvar CampaignProductShot = function (_BulbsHTMLElement) {\n\t  _inherits(CampaignProductShot, _BulbsHTMLElement);\n\t\n\t  function CampaignProductShot() {\n\t    _classCallCheck(this, CampaignProductShot);\n\t\n\t    return _possibleConstructorReturn(this, _BulbsHTMLElement.apply(this, arguments));\n\t  }\n\t\n\t  CampaignProductShot.prototype.handleRequestSuccess = function handleRequestSuccess(data) {\n\t    (0, _invariant2.default)(data.product_shot_url, 'CampaignProductShot.handleRequestSuccess(data): data.product_shot_url is undefined');\n\t    this.innerHTML = '<div class=\\'campaign-product-shot\\'>\\n        <a href=\\'' + data.clickthrough_url + '\\'>\\n          <img src=\\'' + data.product_shot_url + '\\'>\\n        </a>\\n      </div>';\n\t  };\n\t\n\t  CampaignProductShot.prototype.handleRequestError = function handleRequestError(error) {\n\t    console.log(error);\n\t  };\n\t\n\t  CampaignProductShot.prototype.attachedCallback = function attachedCallback() {\n\t    (0, _invariant2.default)(this.hasAttribute('src'), 'campaign-product-shot component requires a src');\n\t    fetch(this.getAttribute('src')).then(_util.filterBadResponse).then(_util.getResponseJSON).then(this.handleRequestSuccess.bind(this)).catch(this.handleRequestError);\n\t  };\n\t\n\t  CampaignProductShot.prototype.attributeChangedCallback = function attributeChangedCallback(name, previousValue, value) {\n\t    if (document.body.contains(this)) {\n\t      if (name === 'src' && previousValue !== value) {\n\t        this.attachedCallback();\n\t      }\n\t    }\n\t  };\n\t\n\t  return CampaignProductShot;\n\t}(_register.BulbsHTMLElement);\n\t\n\texports.default = CampaignProductShot;\n\t\n\t\n\t(0, _register.registerElement)('campaign-product-shot', CampaignProductShot);\n\n/***/ })\n]);\n\n\n// WEBPACK FOOTER //\n// campaign-product-shot.js","import {\n  registerElement,\n  BulbsHTMLElement,\n} from 'bulbs-elements/register';\nimport { filterBadResponse, getResponseJSON } from 'bulbs-elements/util';\nimport invariant from 'invariant';\n\nexport default class CampaignProductShot extends BulbsHTMLElement {\n\n  handleRequestSuccess (data) {\n    invariant(\n      data.product_shot_url,\n      'CampaignProductShot.handleRequestSuccess(data): data.product_shot_url is undefined');\n    this.innerHTML =\n      `<div class='campaign-product-shot'>\n        <a href='${data.clickthrough_url}'>\n          <img src='${data.product_shot_url}'>\n        </a>\n      </div>`;\n  }\n\n  handleRequestError (error) {\n    console.log(error);\n  }\n\n  attachedCallback () {\n    invariant(this.hasAttribute('src'), 'campaign-product-shot component requires a src');\n    fetch(this.getAttribute('src'))\n      .then(filterBadResponse)\n      .then(getResponseJSON)\n      .then(this.handleRequestSuccess.bind(this))\n      .catch(this.handleRequestError);\n  }\n\n  attributeChangedCallback (name, previousValue, value) {\n    if (document.body.contains(this)) {\n      if (name === 'src' && previousValue !== value) {\n        this.attachedCallback();\n      }\n    }\n  }\n}\n\nregisterElement('campaign-product-shot', CampaignProductShot);\n\n\n\n// WEBPACK FOOTER //\n// ./elements/campaign-product-shot/campaign-product-shot.js"],"sourceRoot":""}