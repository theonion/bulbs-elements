{"version":3,"sources":["webpack:///bulbs-reading-list.js","webpack:///./elements/bulbs-reading-list/bulbs-reading-list.js","webpack:///./elements/bulbs-reading-list/components/bulbs-reading-list-item.js","webpack:///./elements/bulbs-reading-list/components/bulbs-reading-list-articles.js"],"names":["webpackJsonp","0","module","exports","__webpack_require__","_defaults","obj","defaults","keys","Object","getOwnPropertyNames","i","length","key","value","getOwnPropertyDescriptor","configurable","undefined","defineProperty","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","create","constructor","enumerable","writable","setPrototypeOf","_register","BulbsReadingList","_BulbsHTMLElement","this","apply","arguments","attachedCallback","BulbsHTMLElement","registerElement","default","325","_interopRequireDefault","__esModule","_invariant","_invariant2","_util","pageStartDebouncer","debouncePerFrame","BulbsReadingListItem","markdownText","dataset","id","href","partialUrl","title","contentAnalyticsDimensions","window","GOOGLE_ANALYTICS_ID","InViewMonitor","add","parseInt","gaDimensions","getGaDimensions","isLoaded","hasAttribute","fetchPending","loadingTemplate","pageStartThreshold","loadOnInitialization","registerEvents","isElementInViewport","loadContent","addEventListener","bind","handlePageStart","targeting","JSON","parse","dimension1","dimension2","dimension3","dimension4","dimension5","dimension6","dimension7","dimension8","dimension9","dimension10","dimension11","dimension12","dimension13","prepGaTracker","prepGaEventTracker","sendAnalyticsEvent","gaTrackerWrapper","_this2","Promise","resolve","reject","shouldLoad","fillContent","fetch","credentials","then","filterBadResponse","getResponseText","response","handleLoadContentComplete","catch","handleLoadContentError","content","innerHTML","loadStatus","status","statusText","isArticleBoundaryInView","event","articleTopNearViewportTop","detail","boundingRect","top","articleBottomNearViewportTop","bottom","_this3","location","pathname","history","replaceState","getAnalyticsManager","trackPageView","326","ReadingListArticles","getAttribute"],"mappings":"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","file":"bulbs-reading-list.js","sourcesContent":["webpackJsonp([23],{\n\n/***/ 0:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _register = __webpack_require__(1);\n\t\n\t__webpack_require__(325);\n\t\n\t__webpack_require__(326);\n\t\n\tfunction _defaults(obj, defaults) { var keys = Object.getOwnPropertyNames(defaults); for (var i = 0; i < keys.length; i++) { var key = keys[i]; var value = Object.getOwnPropertyDescriptor(defaults, key); if (value && value.configurable && obj[key] === undefined) { Object.defineProperty(obj, key, value); } } return obj; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : _defaults(subClass, superClass); }\n\t\n\tvar BulbsReadingList = function (_BulbsHTMLElement) {\n\t  _inherits(BulbsReadingList, _BulbsHTMLElement);\n\t\n\t  function BulbsReadingList() {\n\t    _classCallCheck(this, BulbsReadingList);\n\t\n\t    return _possibleConstructorReturn(this, _BulbsHTMLElement.apply(this, arguments));\n\t  }\n\t\n\t  BulbsReadingList.prototype.attachedCallback = function attachedCallback() {};\n\t\n\t  return BulbsReadingList;\n\t}(_register.BulbsHTMLElement);\n\t\n\t(0, _register.registerElement)('bulbs-reading-list', BulbsReadingList);\n\t\n\texports.default = BulbsReadingList;\n\n/***/ }),\n\n/***/ 325:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _register = __webpack_require__(1);\n\t\n\tvar _invariant = __webpack_require__(37);\n\t\n\tvar _invariant2 = _interopRequireDefault(_invariant);\n\t\n\tvar _util = __webpack_require__(196);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _defaults(obj, defaults) { var keys = Object.getOwnPropertyNames(defaults); for (var i = 0; i < keys.length; i++) { var key = keys[i]; var value = Object.getOwnPropertyDescriptor(defaults, key); if (value && value.configurable && obj[key] === undefined) { Object.defineProperty(obj, key, value); } } return obj; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : _defaults(subClass, superClass); }\n\t\n\tvar pageStartDebouncer = (0, _util.debouncePerFrame)();\n\t\n\tvar BulbsReadingListItem = function (_BulbsHTMLElement) {\n\t  _inherits(BulbsReadingListItem, _BulbsHTMLElement);\n\t\n\t  function BulbsReadingListItem() {\n\t    _classCallCheck(this, BulbsReadingListItem);\n\t\n\t    return _possibleConstructorReturn(this, _BulbsHTMLElement.apply(this, arguments));\n\t  }\n\t\n\t  BulbsReadingListItem.prototype.attachedCallback = function attachedCallback() {\n\t    var markdownText = '<bulbs-reading-list-item> requires attribute: ';\n\t    (0, _invariant2.default)(this.dataset.id, markdownText + 'data-id');\n\t    (0, _invariant2.default)(this.dataset.href, markdownText + 'data-href');\n\t    (0, _invariant2.default)(this.dataset.partialUrl, markdownText + 'data-partial-url');\n\t    (0, _invariant2.default)(this.dataset.title, markdownText + 'data-title');\n\t    (0, _invariant2.default)(this.dataset.contentAnalyticsDimensions, markdownText + 'data-content-analytics-dimensions');\n\t    (0, _invariant2.default)(window.GOOGLE_ANALYTICS_ID, '<bulbs-reading-list-item> requires GOOGLE_ANALYTICS_ID set on the window');\n\t\n\t    _util.InViewMonitor.add(this);\n\t    this.id = parseInt(this.dataset.id, 10);\n\t    this.href = this.dataset.href;\n\t    this.partialUrl = this.dataset.partialUrl;\n\t    this.title = this.dataset.title;\n\t    this.gaDimensions = this.getGaDimensions();\n\t    this.isLoaded = this.hasAttribute('data-is-loaded');\n\t    this.fetchPending = false;\n\t    this.loadingTemplate = '<p><i class=\"fa fa-spinner fa-spin\"></i> Loading...</p>';\n\t    this.pageStartThreshold = 200; // Pixels from top of viewport before considered to be on different adjacent page\n\t    this.loadOnInitialization();\n\t\n\t    this.registerEvents();\n\t  };\n\t\n\t  BulbsReadingListItem.prototype.loadOnInitialization = function loadOnInitialization() {\n\t    if (!this.isLoaded && _util.InViewMonitor.isElementInViewport(this)) {\n\t      this.loadContent();\n\t    }\n\t  };\n\t\n\t  BulbsReadingListItem.prototype.registerEvents = function registerEvents() {\n\t    this.addEventListener('approachingviewport', this.loadContent.bind(this));\n\t    this.addEventListener('inviewrect', this.handlePageStart.bind(this));\n\t  };\n\t\n\t  BulbsReadingListItem.prototype.getGaDimensions = function getGaDimensions() {\n\t    var targeting = JSON.parse(this.dataset.contentAnalyticsDimensions);\n\t    return {\n\t      'dimension1': targeting.dimension1 || 'None',\n\t      'dimension2': targeting.dimension2 || 'None',\n\t      'dimension3': targeting.dimension3 || 'None',\n\t      'dimension4': targeting.dimension4 || 'None',\n\t      'dimension5': targeting.dimension5 || 'None',\n\t      'dimension6': targeting.dimension6 || 'None',\n\t      'dimension7': targeting.dimension7 || 'None',\n\t      'dimension8': targeting.dimension8 || 'None',\n\t      'dimension9': targeting.dimension9 || 'None',\n\t      'dimension10': targeting.dimension10 || 'None',\n\t      'dimension11': targeting.dimension11 || 'None',\n\t      'dimension12': targeting.dimension12 || 'None',\n\t      'dimension13': targeting.dimension13 || 'None'\n\t    };\n\t  };\n\t\n\t  BulbsReadingListItem.prototype.prepGaTracker = function prepGaTracker() {\n\t    return (0, _util.prepGaEventTracker)('pageview', window.GOOGLE_ANALYTICS_ID, this.gaDimensions);\n\t  };\n\t\n\t  BulbsReadingListItem.prototype.sendAnalyticsEvent = function sendAnalyticsEvent() {\n\t    this.gaTrackerWrapper('send', 'event', 'reading_list', 'scroll_view', this.href);\n\t  };\n\t\n\t  BulbsReadingListItem.prototype.loadContent = function loadContent() {\n\t    var _this2 = this;\n\t\n\t    return new Promise(function (resolve, reject) {\n\t      if (_this2.shouldLoad()) {\n\t        _this2.fetchPending = true;\n\t        _this2.fillContent(_this2.loadingTemplate);\n\t        fetch(_this2.partialUrl, {\n\t          credentials: 'same-origin'\n\t        }).then(_util.filterBadResponse).then(_util.getResponseText).then(function (response) {\n\t          _this2.handleLoadContentComplete(response);\n\t          resolve(_this2);\n\t        }).catch(function (response) {\n\t          _this2.handleLoadContentError(response);\n\t          reject(_this2);\n\t        });\n\t      }\n\t    });\n\t  };\n\t\n\t  BulbsReadingListItem.prototype.shouldLoad = function shouldLoad() {\n\t    return !(this.isLoaded || this.fetchPending);\n\t  };\n\t\n\t  BulbsReadingListItem.prototype.fillContent = function fillContent(content) {\n\t    this.innerHTML = content;\n\t    this.dataset.loadStatus = 'loading';\n\t  };\n\t\n\t  BulbsReadingListItem.prototype.handleLoadContentComplete = function handleLoadContentComplete(content) {\n\t    this.fillContent(content);\n\t    this.isLoaded = true;\n\t    this.fetchPending = false;\n\t    this.dataset.loadStatus = 'loaded';\n\t  };\n\t\n\t  BulbsReadingListItem.prototype.handleLoadContentError = function handleLoadContentError(response) {\n\t    this.fetchPending = false;\n\t    return new Promise(function (resolve, reject) {\n\t      return reject('<bulbs-reading-list-item> loadContent(): fetch failed \"' + response.status + ' ' + response.statusText + '\"');\n\t    });\n\t  };\n\t\n\t  BulbsReadingListItem.prototype.isArticleBoundaryInView = function isArticleBoundaryInView(event) {\n\t    var articleTopNearViewportTop = event.detail.boundingRect.top <= this.pageStartThreshold && event.detail.boundingRect.top > 0;\n\t    var articleBottomNearViewportTop = event.detail.boundingRect.bottom >= this.pageStartThreshold && event.detail.boundingRect.top < 0;\n\t\n\t    return articleTopNearViewportTop || articleBottomNearViewportTop;\n\t  };\n\t\n\t  BulbsReadingListItem.prototype.handlePageStart = function handlePageStart() {\n\t    var _this3 = this;\n\t\n\t    if (window.location.pathname === this.href || !this.isArticleBoundaryInView(event)) {\n\t      return;\n\t    }\n\t\n\t    pageStartDebouncer(function () {\n\t      if (!_this3.gaTrackerWrapper) {\n\t        _this3.gaTrackerWrapper = _this3.prepGaTracker();\n\t      }\n\t\n\t      history.replaceState({}, _this3.title, _this3.href);\n\t\n\t      (0, _util.getAnalyticsManager)().trackPageView(_this3.href, _this3.title, _this3.gaTrackerWrapper);\n\t      _this3.sendAnalyticsEvent();\n\t    });\n\t  };\n\t\n\t  return BulbsReadingListItem;\n\t}(_register.BulbsHTMLElement);\n\t\n\t(0, _register.registerElement)('bulbs-reading-list-item', BulbsReadingListItem);\n\t\n\texports.default = BulbsReadingListItem;\n\n/***/ }),\n\n/***/ 326:\n/***/ (function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _register = __webpack_require__(1);\n\t\n\tvar _invariant = __webpack_require__(37);\n\t\n\tvar _invariant2 = _interopRequireDefault(_invariant);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _defaults(obj, defaults) { var keys = Object.getOwnPropertyNames(defaults); for (var i = 0; i < keys.length; i++) { var key = keys[i]; var value = Object.getOwnPropertyDescriptor(defaults, key); if (value && value.configurable && obj[key] === undefined) { Object.defineProperty(obj, key, value); } } return obj; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : _defaults(subClass, superClass); }\n\t\n\tvar ReadingListArticles = function (_BulbsHTMLElement) {\n\t  _inherits(ReadingListArticles, _BulbsHTMLElement);\n\t\n\t  function ReadingListArticles() {\n\t    _classCallCheck(this, ReadingListArticles);\n\t\n\t    return _possibleConstructorReturn(this, _BulbsHTMLElement.apply(this, arguments));\n\t  }\n\t\n\t  ReadingListArticles.prototype.attachedCallback = function attachedCallback() {\n\t    (0, _invariant2.default)(this.getAttribute('reading-list-id'), '<bulbs-reading-list-articles> requires a \"reading-list-id\" attribute');\n\t  };\n\t\n\t  return ReadingListArticles;\n\t}(_register.BulbsHTMLElement);\n\t\n\t(0, _register.registerElement)('bulbs-reading-list-articles', ReadingListArticles);\n\t\n\texports.default = ReadingListArticles;\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// bulbs-reading-list.js","import { registerElement, BulbsHTMLElement } from 'bulbs-elements/register';\nimport './components/bulbs-reading-list-item';\nimport './components/bulbs-reading-list-articles';\n\nclass BulbsReadingList extends BulbsHTMLElement {\n  attachedCallback () {\n  }\n}\n\nregisterElement('bulbs-reading-list', BulbsReadingList);\n\nexport default BulbsReadingList;\n\n\n\n// WEBPACK FOOTER //\n// ./elements/bulbs-reading-list/bulbs-reading-list.js","import {\n  registerElement,\n  BulbsHTMLElement,\n} from 'bulbs-elements/register';\nimport invariant from 'invariant';\nimport {\n  debouncePerFrame,\n  filterBadResponse,\n  getResponseText,\n  getAnalyticsManager,\n  InViewMonitor,\n  prepGaEventTracker,\n} from 'bulbs-elements/util';\n\nlet pageStartDebouncer = debouncePerFrame();\n\nclass BulbsReadingListItem extends BulbsHTMLElement {\n  attachedCallback () {\n    const markdownText = '<bulbs-reading-list-item> requires attribute: ';\n    invariant(this.dataset.id, markdownText + 'data-id');\n    invariant(this.dataset.href, markdownText + 'data-href');\n    invariant(this.dataset.partialUrl, markdownText + 'data-partial-url');\n    invariant(this.dataset.title, markdownText + 'data-title');\n    invariant(this.dataset.contentAnalyticsDimensions,\n      markdownText + 'data-content-analytics-dimensions');\n    invariant(window.GOOGLE_ANALYTICS_ID,\n      '<bulbs-reading-list-item> requires GOOGLE_ANALYTICS_ID set on the window');\n\n    InViewMonitor.add(this);\n    this.id = parseInt(this.dataset.id, 10);\n    this.href = this.dataset.href;\n    this.partialUrl = this.dataset.partialUrl;\n    this.title = this.dataset.title;\n    this.gaDimensions = this.getGaDimensions();\n    this.isLoaded = this.hasAttribute('data-is-loaded');\n    this.fetchPending = false;\n    this.loadingTemplate = '<p><i class=\"fa fa-spinner fa-spin\"></i> Loading...</p>';\n    this.pageStartThreshold = 200; // Pixels from top of viewport before considered to be on different adjacent page\n    this.loadOnInitialization();\n\n    this.registerEvents();\n  }\n\n  loadOnInitialization () {\n    if(!this.isLoaded && InViewMonitor.isElementInViewport(this)) {\n      this.loadContent();\n    }\n  }\n\n  registerEvents () {\n    this.addEventListener('approachingviewport', this.loadContent.bind(this));\n    this.addEventListener('inviewrect', this.handlePageStart.bind(this));\n  }\n\n  getGaDimensions () {\n    let targeting = JSON.parse(\n      this.dataset.contentAnalyticsDimensions\n    );\n    return {\n      'dimension1': targeting.dimension1 || 'None',\n      'dimension2': targeting.dimension2 || 'None',\n      'dimension3': targeting.dimension3 || 'None',\n      'dimension4': targeting.dimension4 || 'None',\n      'dimension5': targeting.dimension5 || 'None',\n      'dimension6': targeting.dimension6 || 'None',\n      'dimension7': targeting.dimension7 || 'None',\n      'dimension8': targeting.dimension8 || 'None',\n      'dimension9': targeting.dimension9 || 'None',\n      'dimension10': targeting.dimension10 || 'None',\n      'dimension11': targeting.dimension11 || 'None',\n      'dimension12': targeting.dimension12 || 'None',\n      'dimension13': targeting.dimension13 || 'None',\n    };\n  }\n\n  prepGaTracker () {\n    return prepGaEventTracker(\n      'pageview',\n      window.GOOGLE_ANALYTICS_ID,\n      this.gaDimensions,\n    );\n  }\n\n  sendAnalyticsEvent () {\n    this.gaTrackerWrapper(\n      'send', 'event',\n      'reading_list',\n      'scroll_view',\n      this.href,\n    );\n  }\n\n  loadContent () {\n    return new Promise((resolve, reject) => {\n      if (this.shouldLoad()) {\n        this.fetchPending = true;\n        this.fillContent(this.loadingTemplate);\n        fetch(this.partialUrl, {\n          credentials: 'same-origin',\n        })\n          .then(filterBadResponse)\n          .then(getResponseText)\n          .then((response) => {\n            this.handleLoadContentComplete(response);\n            resolve(this);\n          })\n          .catch((response) => {\n            this.handleLoadContentError(response);\n            reject(this);\n          });\n      }\n    });\n  }\n\n  shouldLoad () {\n    return !(this.isLoaded || this.fetchPending);\n  }\n\n  fillContent (content) {\n    this.innerHTML = content;\n    this.dataset.loadStatus = 'loading';\n  }\n\n  handleLoadContentComplete (content) {\n    this.fillContent(content);\n    this.isLoaded = true;\n    this.fetchPending = false;\n    this.dataset.loadStatus = 'loaded';\n  }\n\n  handleLoadContentError (response) {\n    this.fetchPending = false;\n    return new Promise((resolve, reject) =>\n      reject(`<bulbs-reading-list-item> loadContent(): fetch failed \"${response.status} ${response.statusText}\"`));\n  }\n\n  isArticleBoundaryInView (event) {\n    let articleTopNearViewportTop = event.detail.boundingRect.top <= this.pageStartThreshold && event.detail.boundingRect.top > 0;\n    let articleBottomNearViewportTop = event.detail.boundingRect.bottom >= this.pageStartThreshold && event.detail.boundingRect.top < 0;\n\n    return articleTopNearViewportTop || articleBottomNearViewportTop;\n  }\n\n  handlePageStart () {\n    if ((window.location.pathname === this.href) || !this.isArticleBoundaryInView(event)) {\n      return;\n    }\n\n    pageStartDebouncer(() => {\n      if(!this.gaTrackerWrapper) {\n        this.gaTrackerWrapper = this.prepGaTracker();\n      }\n\n      history.replaceState(\n        {},\n        this.title,\n        this.href,\n      );\n\n      getAnalyticsManager().trackPageView(\n        this.href,\n        this.title,\n        this.gaTrackerWrapper,\n      );\n      this.sendAnalyticsEvent();\n    });\n  }\n}\n\nregisterElement('bulbs-reading-list-item', BulbsReadingListItem);\n\nexport default BulbsReadingListItem;\n\n\n\n// WEBPACK FOOTER //\n// ./elements/bulbs-reading-list/components/bulbs-reading-list-item.js","import {\n  registerElement,\n  BulbsHTMLElement,\n} from 'bulbs-elements/register';\nimport invariant from 'invariant';\n\nclass ReadingListArticles extends BulbsHTMLElement {\n  attachedCallback () {\n    invariant(this.getAttribute('reading-list-id'), '<bulbs-reading-list-articles> requires a \"reading-list-id\" attribute');\n  }\n}\n\nregisterElement('bulbs-reading-list-articles', ReadingListArticles);\n\nexport default ReadingListArticles;\n\n\n\n// WEBPACK FOOTER //\n// ./elements/bulbs-reading-list/components/bulbs-reading-list-articles.js"],"sourceRoot":""}